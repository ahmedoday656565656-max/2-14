<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>إليكِ..</title>
    <style>
        :root {
            --gold: #d4af37;
            --bg: #000000;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: white;
            font-family: 'Times New Roman', serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            text-align: center;
        }

        /* شاشة التحميل */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.8s ease;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(212, 175, 55, 0.1);
            border-top: 3px solid var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* المحتوى الرئيسي */
        .content {
            opacity: 0;
            visibility: hidden;
            transition: opacity 1.5s ease;
            width: 85%;
            max-width: 450px;
        }

        h1 {
            font-size: 1.4rem;
            color: var(--gold);
            font-weight: 300;
            margin-bottom: 25px;
            letter-spacing: 2px;
        }

        #typewriter {
            font-size: 1.05rem;
            line-height: 1.9;
            min-height: 120px;
            color: #ddd;
            margin-bottom: 35px;
        }

        .btn {
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 14px 40px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            letter-spacing: 2px;
            opacity: 0;
            transition: all 0.5s ease;
            pointer-events: none;
        }

        .btn.show { 
            opacity: 1; 
            pointer-events: auto; 
        }

        .btn:active {
            background: var(--gold);
            color: #000;
        }

        /* جزيئات الخلفية */
        .particle {
            position: absolute;
            background: var(--gold);
            border-radius: 50%;
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div id="loader">
        <div class="spinner"></div>
        <p style="margin-top: 20px; font-size: 0.9rem; color: var(--gold); letter-spacing: 1px;">
            يتم الآن ترتيب الفوضى التي تركتِها..
        </p>
    </div>

    <div class="content" id="mainContent">
        <h1>إلى مَن كانت تسكن هنا..</h1>
        <div id="typewriter"></div>
        <button class="btn" id="playBtn" onclick="startExperience()">إضغطي للبدء</button>
    </div>

    <audio id="myAudio" preload="auto">
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // إخفاء اللودنك وبدء العرض
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                const content = document.getElementById('mainContent');
                
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                    content.style.visibility = 'visible';
                    content.style.opacity = '1';
                    startTyping();
                }, 800);
            }, 3500); // مدة اللودنك (3.5 ثانية)
        });

        // تأثير الكتابة (نص فخم وطويل)const text = "يقولون إن المسافات تقتل الشوق، لكنهم لم يخبرونا أن الأكواد لا تستطيع تشفير الذكريات.. حاولتُ حذف كل شيء، لكني وجدتُ أن اسمكِ هو كلمة السر الوحيدة التي يرفض قلبي نسيانها. ضغطة واحدة، ولتستمعي لما عجزتُ عن قوله.";
        let index = 0;
        
        function startTyping() {
            const display = document.getElementById("typewriter");
            if (index < text.length) {
                display.innerHTML += text.charAt(index);
                index++;
                setTimeout(startTyping, 60); // سرعة الكتابة
            } else {
                document.getElementById("playBtn").classList.add("show");
            }
        }

        function startExperience() {
            const audio = document.getElementById("myAudio");
            audio.play();

            // تأثير الجزيئات المتطايرة
            for(let i=0; i<40; i++) {
                createParticle();
            }

            const btn = document.getElementById("playBtn");
            btn.innerHTML = "استمعي بقلبكِ..";
            btn.style.borderColor = "white";
            btn.style.color = "white";
        }

        function createParticle() {
            const p = document.createElement('div');
            p.className = 'particle';
            document.body.appendChild(p);
            
            const size = Math.random() * 4 + 1 + 'px';
            p.style.width = size;
            p.style.height = size;
            p.style.left = '50%';
            p.style.top = '65%';
            
            const destX = (Math.random() - 0.5) * 400;
            const destY = (Math.random() - 0.5) * 400;
            
            p.animate([
                { transform: 'translate(0, 0)', opacity: 1 },
                { transform: translate(${destX}px, ${destY}px), opacity: 0 }
            ], {
                duration: 2500,
                easing: 'ease-out',
                fill: 'forwards'
            }).onfinish = () => p.remove();
        }
    </script>
</body>
</html>
